<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Station Types - Home</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background: #f9f9f9;
      padding-left: 0;
    }
    header {
      background-color: #008000;
      padding: 15px;
      color: white;
      text-align: center;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    .left-panel {
      width: 100%;
      display: flex;
      flex-direction: column;
      gap: 20px;
      overflow-x: hidden;
    }
    .station-type-selector {
      background: white;
      padding: 20px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      border-left: 5px solid #008000;
      max-width: 400px;
      margin: 0 auto;
      text-align: center;
    }
    .aws-info, .arg-info {
      background: white;
      padding: 20px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      border-left: 5px solid #008000;
      overflow-x: auto;
      max-width: 100%;
      display: none;
    }
    h2 {
      color: #008000;
      margin-top: 0;
    }
    h2 a {
      text-decoration: none;
      color: #008000;
    }
    h2 a:hover {
      text-decoration: underline;
    }
    .indented {
      padding-left: 70px;
      display: block;
    }
    footer {
      text-align: center;
      padding: 10px;
      background: #008000;
      color: white;
      margin-top: 50px;
    }
    .data-section {
      margin-top: 40px;
      padding: 20px;
      border: 2px dashed #008000;
      background: #f1fdf1;
    }
    .data-section h3 {
      color: #008000;
      margin-bottom: 15px;
    }
    .data-section ul {
      list-style-type: none;
      padding: 0;
    }
    .data-section li {
      margin: 8px 0;
    }
    .data-section a {
      color: #006400;
      text-decoration: none;
    }
    .data-section a:hover {
      text-decoration: underline;
    }
    .station-type-selector select, .aws-info select, .arg-info select {
      width: 100%;
      max-width: 350px;
      margin: 10px auto;
      padding: 8px;
      border: 1px solid #008000;
      border-radius: 4px;
      display: block;
    }
    .aws-info table, .arg-info table {
      width: 100%;
      max-width: 100%;
      margin-top: 10px;
      border-collapse: collapse;
      display: none;
      table-layout: auto;
    }
    .aws-info th, .aws-info td, .arg-info th, .arg-info td {
      border: 1px solid #008000;
      padding: 8px;
      text-align: left;
      white-space: nowrap;
    }
    .aws-info th, .arg-info th {
      background-color: #f1fdf1;
    }
    .no-data {
      color: #888;
      font-style: italic;
      padding: 10px;
    }
    .suspected {
      color: red;
      font-weight: bold;
    }
    .download-btn {
      margin-top: 15px;
      padding: 10px 20px;
      background-color: #008000;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    .download-btn:disabled {
      background-color: #cccccc;
      cursor: not-allowed;
    }
    .download-btn:hover:not(:disabled) {
      background-color: #006400;
    }
    @media (max-width: 768px) {
      .container {
        padding: 10px;
      }
      .left-panel {
        width: 100%;
      }
      .station-type-selector {
        max-width: 100%;
        padding: 15px;
      }
      .station-type-selector select, .aws-info select, .arg-info select {
        max-width: 100%;
      }
      .aws-info, .arg-info {
        padding: 15px;
      }
    }
  </style>
  <!-- Include Papa Parse CDN (optional, if still needed for other features) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
  <!-- Include jsPDF with autoTable CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.3/jspdf.plugin.autotable.min.js"></script>
  <!-- Include XLSX CDN (no longer needed for Excel, but kept for compatibility if reverted) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</head>
<body>
  <header>
    <h1>Station Maintenance</h1>
  </header>
  <div class="container">
    <div class="left-panel">
      <!-- Station Type Selector -->
      <div class="station-type-selector">
        <h2>Select Station Type</h2>
        <label for="station-type">Station Type:</label>
        <select id="station-type" onchange="toggleStationType()">
          <option value="">Select Station Type</option>
          <option value="aws">AWS</option>
          <option value="arg">ARG</option>
        </select>
      </div>
      <!-- AWS Information -->
      <div class="aws-info" id="aws-info">
        <h2>AWS Information</h2>
        <label for="aws-province">Province:</label>
        <select id="aws-province" onchange="updateAWSOptions('district')">
          <option value="">Select Province</option>
        </select>
        <label for="aws-district">District:</label>
        <select id="aws-district" onchange="updateAWSOptions('station')">
          <option value="">Select District</option>
        </select>
        <label for="aws-station">Station:</label>
        <select id="aws-station" onchange="displayAWSStationInfo()">
          <option value="">Select Station</option>
        </select>
        <div id="aws-station-details" style="display: none;">
          <h3>Available Sensors/Parameters</h3>
          <table id="aws-sensor-table">
            <thead>
              <tr>
                <th>Available Sensor</th>
                <th>Installation Date</th>
                <th>Calibration Date</th>
                <th>Serial Number</th>
                <th>Status</th>
                <th>Checked On</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
          <h3>Activity Log</h3>
          <table id="aws-activity-table">
            <thead>
              <tr>
                <th>Date</th>
                <th>Activity</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
      <!-- ARG Information -->
      <div class="arg-info" id="arg-info">
        <h2>ARG Information</h2>
        <label for="arg-province">Province:</label>
        <select id="arg-province" onchange="updateARGOptions('district')">
          <option value="">Select Province</option>
        </select>
        <label for="arg-district">District:</label>
        <select id="arg-district" onchange="updateARGOptions('station')">
          <option value="">Select District</option>
        </select>
        <label for="arg-station">Station:</label>
        <select id="arg-station" onchange="displayARGStationInfo()">
          <option value="">Select Station</option>
        </select>
        <div id="arg-station-details" style="display: none;">
          <h3>Available Sensors/Parameters</h3>
          <table id="arg-sensor-table">
            <thead>
              <tr>
                <th>Available Sensor</th>
                <th>Installation Date</th>
                <th>Calibration Date</th>
                <th>Serial Number</th>
                <th>Status</th>
                <th>Checked On</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
          <h3>Activity Log</h3>
          <table id="arg-activity-table">
            <thead>
              <tr>
                <th>Date</th>
                <th>Activity</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  <script>
    function toggleStationType() {
      const stationType = document.getElementById('station-type').value;
      const awsInfo = document.getElementById('aws-info');
      const argInfo = document.getElementById('arg-info');

      // Hide both sections by default
      awsInfo.style.display = 'none';
      argInfo.style.display = 'none';

      // Reset only the selected section
      if (stationType === 'aws') {
        document.getElementById('aws-province').value = '';
        document.getElementById('aws-district').value = '';
        document.getElementById('aws-station').value = '';
        document.getElementById('aws-district').disabled = true;
        document.getElementById('aws-station').disabled = true;
        document.getElementById('aws-station-details').style.display = 'none';
        awsInfo.style.display = 'block';
      } else if (stationType === 'arg') {
        document.getElementById('arg-province').value = '';
        document.getElementById('arg-district').value = '';
        document.getElementById('arg-station').value = '';
        document.getElementById('arg-district').disabled = true;
        document.getElementById('arg-station').disabled = true;
        document.getElementById('arg-station-details').style.display = 'none';
        argInfo.style.display = 'block';
      }
    }
  </script>
  <script src="tables.js"></script>
  <footer>
    &copy; 2025 Rwanda Meteorology Agency â€” Station Types Summary
  </footer>
</body>
</html>